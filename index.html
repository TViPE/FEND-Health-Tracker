<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Health Tracker App</title>
  <link rel="stylesheet" href="css/style.css">
  <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
</head>
<body id="healthTracker">
	<div class="container-fluid">
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center">
          <h1>Health Tracker App</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4 col-xs-6 col-sm-offset-4 col-xs-offset-2">
          <input id="search-text" type="text" placeholder="Search for food" style="width: 100%">
          
        </div>
        <div class="col-sm-4 col-xs-4">
          <button id="search-btn">Search</button>
        </div>
      </div>
      <br>
      <div class="row">
        <!-- Collection Column -->
        <div class="col-md-6">
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Item Name</th>
                <th>Brand Name</th>
                <th>Calories</th>
                <th>Add</th>
              </tr>
            </thead>
            <tbody id="resultList"></tbody>
          </table>
        </div>
        <!-- Result Column -->
        <div class="col-md-6">
          <h2>Result</h2>
          <h3>Added Items:</h3>
          <ul id="foodList">
            
          </ul>
          <h3>Total Calories: <span id="totalCalories"></span></h3>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Template -->
  <!-- Item Template -->
  <script type="text/template" id="result-template">
    <td><%- itemName %></td>
    <td><%- brandName %></td>
    <td><%- calories %></td>
    <td><button class="btn btn-primary" id="addFoodBtn">ADD</button></td>
  </script>

  <script type="text/template" id="food-template">
    <li>
      <%- itemName %> | <%- brandName %> | <%- calories %> | <span class="deleter"></span> 
    </li>
  </script>
  



  <script src="js/lib/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/lib/underscore-min.js"></script>
  <script src="js/lib/backbone-min.js"></script>
  <script src="js/lib/backbone.localStorage.min.js"></script>

  <script src="js/models/food.js"></script>
  <script src="js/models/result.js"></script>
  <script src="js/collections/foods.js"></script>
  <script src="js/collections/results.js"></script>
  <script src="js/views/food.js"></script>
  <script src="js/views/result.js"></script>
  <script src="js/views/app.js"></script>
  <script src="js/app.js"></script>	

  <script>
    // function closeIt(){
    //   return "Any string value here forces a dialog box to \n" +
    //   "appear before closing the window.";
    // };
    // window.onbeforeunload = closeIt;
    $(window).on("unload", function(event) {
      var type = event.currentTarget.performance.navigation.type;
      console.log(type);
      if(type != 0){
        localStorage.clear();
      }
      
    });
  </script>
</body>